(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{101:function(e,t,a){"use strict";a.d(t,"d",function(){return n}),a.d(t,"b",function(){return i}),a.d(t,"c",function(){return o}),a.d(t,"a",function(){return r});var n=function(e){return e?(e=parseInt(e,10))>1e4&&e<1e8?(e/1e4).toFixed(1)+"\u4e07":e>=1e8?(e/1e8).toFixed(1)+"\u4ebf":e+"":""},i=function(e,t){var a,n=e,i=!0;return function(){var e=arguments,o=this;if(i)return n.apply(o,e),void(i=!1);a||(a=setTimeout(function(){clearTimeout(a),a=null,n.apply(o,e)},t||500))}},o=function(e){var t=0,a=0;return function e(n){t+=n.offsetLeft;a+=n.offsetTop;n.offsetParent&&(n=n.offsetParent,e(n))}(e),{x:t,y:a}};function r(){var e=navigator.userAgent.toLowerCase(),t={url:"http://file.justfun.fun/download/justfun_m_stand_release_3.0.0.apk",schema:"justfun://android"},a={url:"",schema:""},n={_browser:{isAndroid:-1!==e.indexOf("android"),isWX:-1!==e.indexOf("micromessenger"),isIOS:-1!==e.indexOf("iphone")},openApp:function(){if(console.log(n._browser),n.filter())if(n._browser.isIOS)window.location=a.schema,setTimeout(function(){window.location.href=a.url},1e3);else{var e=document.createElement("iframe");e.src=t.schema,e.style.display="none",document.body.appendChild(e),setTimeout(function(){window.location.href=t.url,document.body.removeChild(e)},1e3)}else window.location.href=t.url},filter:function(){var e=!1;return(n._browser.isAndroid||n._browser.isWX||n._browser.isIOS)&&(e=!0),e}};n.openApp()}},117:function(e,t,a){"use strict";a.d(t,"a",function(){return p});var n=a(9),i=a(10),o=a(12),r=a(11),c=a(13),s=a(0),l=a.n(s),u=a(118),m=a(187),d=a.n(m),p=(a(188),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(r.a)(t).call(this,e))).state={defaultUrl:"",isShow:!1},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"loadImage",value:function(e){var t=this,a=document.createElement("img");a.onload=function(){t.setState({defaultUrl:e,isShow:!0})},a.onerror=function(){t.setState({defaultUrl:t.props.defaultUrl||d.a,isShow:!0})},a.src=e}},{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){this.state.isShow||this.loadImage(e.url)}},{key:"componentDidUpdate",value:function(){}},{key:"shouldComponentUpdate",value:function(e){return!this.state.isShow}},{key:"render",value:function(){return l.a.createElement(u.a,{in:this.state.isShow,timeout:300,classNames:"image",unmountOnExit:!0},l.a.createElement("div",{className:this.props.className,style:{backgroundImage:"url('".concat(this.state.defaultUrl,"')")}}))}}]),t}(l.a.Component))},119:function(e,t,a){"use strict";var n=a(9),i=a(10),o=a(12),r=a(11),c=a(13),s=(a(53),a(54)),l=a.n(s),u=a(0),m=a.n(u),d=(a(192),a(84)),p=Object(d.a)(l.a),h=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(r.a)(t).call(this,e))).state={},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return m.a.createElement("div",{className:"navTop"},m.a.createElement("div",{className:"navTop__logo bg"}),m.a.createElement("div",{className:"navTop__button"},this.props.isHome?null:m.a.createElement(l.a,{className:"navTop__button-home",href:"/",type:"primary"},"\u8fdb\u5165\u9996\u9875"),m.a.createElement(p,{className:"navTop__button-home open",type:"primary"},"\u6253\u5f00APP")))}}]),t}(m.a.Component);t.a=h},120:function(e,t,a){"use strict";a(82);var n=a(83),i=a.n(n),o=a(9),r=a(10),c=a(12),s=a(11),l=a(13),u=(a(53),a(54)),m=a.n(u),d=a(0),p=a.n(d),h=(a(193),a(84)),f=a(118),v=Object(h.a)(m.a),g=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).state={isHideBottom:!1,isHideAlert:!0,times:1},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"hideBottom",value:function(){this.setState({isHideBottom:!0})}},{key:"hideAlert",value:function(){var e=this;if(this.setState({isHideAlert:!0,times:this.state.times+1}),1===this.state.times)var t=setInterval(function(){clearInterval(t),e.showAlert()},3e5)}},{key:"showAlert",value:function(){this.setState({isHideAlert:!1})}},{key:"initTimer",value:function(){var e=this,t=setInterval(function(){clearInterval(t),e.showAlert()},3e4)}},{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){this.props.match&&"/detail/:id?"===this.props.match.path?1!==e.liveData.status&&this.initTimer():this.initTimer()}},{key:"render",value:function(){return p.a.createElement("div",{className:"guidance"},p.a.createElement("div",{className:["guidance-bottom",this.state.isHideBottom?"hide":null].join(" ")},p.a.createElement(i.a,{onClick:this.hideBottom.bind(this),className:"guidance-bottom__close",type:"cross"}),p.a.createElement("div",{className:"guidance-bottom__logo"}),p.a.createElement("div",{className:"guidance-bottom__tips bg"},"\u5168\u6c11\u53c2\u4e0e\u7684\u4f53\u80b2\u76f4\u64ad"),p.a.createElement(v,{className:"guidance-bottom__download",type:"primary"},"\u7acb\u5373\u4e0b\u8f7d")),p.a.createElement(f.a,{in:!this.state.isHideAlert,timeout:300,unmountOnExit:!0,classNames:"shade"},p.a.createElement("div",{className:"guidance-shade"})),p.a.createElement(f.a,{in:!this.state.isHideAlert,timeout:300,unmountOnExit:!0,classNames:"main"},p.a.createElement("div",{className:"guidance-alert"},p.a.createElement("div",null,p.a.createElement("div",{className:"guidance-alert__main"},p.a.createElement("div",{className:"guidance-alert__main-text"},"\u7528\u6293\u996d\u76f4\u64adAPP\u770b\u76f4\u64ad"),p.a.createElement("div",{className:"guidance-alert__main-text"},"\u4f17\u591a\u597d\u793c\u7b49\u7740\u4f60"),p.a.createElement("div",{className:"guidance-alert__main-logo bg"}),p.a.createElement("div",{className:"guidance-alert__main-text"},"\u6293\u996d\u76f4\u64ad"),p.a.createElement("div",{className:"guidance-alert__main-text"},"\u5168\u6c11\u53c2\u4e0e\u7684\u4f53\u80b2\u76f4\u64ad"),p.a.createElement(v,{type:"primary",className:"guidance-alert__main-button"},"\u4e0b\u8f7d\u5ba2\u6237\u7aef")),p.a.createElement("div",{className:"guidance-alert__close"},p.a.createElement(i.a,{onClick:this.hideAlert.bind(this),className:"guidance-alert__close-icon",size:"lg",type:"cross-circle-o"}))))))}}]),t}(p.a.Component);g.defaultProps={liveData:{}},t.a=g},121:function(e,t,a){"use strict";a(75);var n=a(76),i=a.n(n),o=(a(114),a(115)),r=a.n(o),c=a(59),s=a(9),l=a(10),u=a(12),m=a(11),d=a(13),p=a(0),h=a.n(p),f=a(17),v=a(25),g=a(101),b=a(117),y=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={top:0,coverImage:null,screenHeight:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,t_top:0,scrollHeight:0},a.checkTop.bind(Object(f.a)(a)),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"isInView",value:function(e){var t=0;return t=this.props.scrollMain===window?document.documentElement.scrollTop||document.body.scrollTop:this.props.scrollMain.scrollTop,this.setState({scrollHeight:t}),Math.abs(this.state.t_top-t)<this.state.screenHeight+50}},{key:"checkTop",value:function(){var e=this.state.coverImage,t=this.state.topImage;if(!e.style.backgroundImage&&this.isInView(e)){var a=e.getAttribute("data-src"),n=t.getAttribute("data-src");a?e.style.backgroundImage="url(".concat(a,")"):n&&(t.style.backgroundImage="url(http://cover.justfun.fun".concat(n,")"))}}},{key:"delay",value:function(){var e=this;return Object(g.b)(function(){e.checkTop()},100)}},{key:"componentWillUnmount",value:function(){this.props.scrollMain&&this.props.scrollMain.removeEventListener("scroll",this.delay())}},{key:"componentDidMount",value:function(){var e=this;this.props.scrollMain&&this.props.scrollMain.addEventListener("scroll",this.delay()),this.setState({coverImage:this.refs.coverImage,topImage:this.refs.topImage,t_top:Object(g.c)(this.refs.coverImage).y}),this.props.isTop&&this.setState({top:this.refs.topImage.offsetWidth}),setTimeout(function(){e.checkTop()},0)}},{key:"render",value:function(){var e=Object(c.a)({},this.props).data;return h.a.createElement("div",{className:"video-item",ref:"videoItem"},h.a.createElement(v.b,{to:"/detail/".concat(e.id),target:"_blank"},h.a.createElement("div",{className:"video-item__top bg ".concat(this.props.big?"big":""),"data-src":e.screenshot,style:{marginTop:"-".concat(this.props.isTop?.45*this.state.top:0,"px")},ref:"topImage"},h.a.createElement("div",{className:"video-item__top-cover bg",ref:"coverImage","data-src":e.cover}),h.a.createElement("div",{className:"video-item__top-shade"}),h.a.createElement("div",{className:"video-item__top-bottom"},h.a.createElement(b.a,{className:"video-item__top-bottom__header bg",url:e.figureUrl}),h.a.createElement("span",{className:"video-item__top-bottom__name"},e.nickname),h.a.createElement("span",{className:"video-item__top-bottom__hint iconfont"},"\ue637"),h.a.createElement("span",{className:"video-item__top-bottom__number"},e.hits))),h.a.createElement("div",{className:"video-item__bottom"},h.a.createElement("div",{className:"video-item__bottom-topic"},e.topics&&e.topics.length&&e.topics.map(function(e,t){return h.a.createElement("span",{key:t},"#",e)})),h.a.createElement("div",{className:"video-item__bottom-name"},e.name))))}}]),t}(h.a.Component);y.defaultProps={big:!1,isTop:!1,scrollMain:window};var _=y,E=a(85),O=a(189),j=a.n(O),w=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=Object(c.a)({},this.props).data;return h.a.createElement("div",{className:"title-wrapper"},h.a.createElement("span",{className:"title-wrapper-icon bg",style:{backgroundImage:"url(".concat(e.recommendIconUrl,")")}}),h.a.createElement("span",{className:"title-wrapper-text"}," ",e.name," "))}}]),t}(h.a.Component),A=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){for(var e=this,t=[],a=0;a<1;a++)t=t.concat(this.props.row.roomList);return h.a.createElement("div",null,h.a.createElement(w,{data:this.props.row.category}),h.a.createElement("div",{className:"video-item-wrapper"},t.map(function(a,n){return h.a.createElement(_,Object.assign({data:a,key:n+"item",big:e.props.isShow||e.props.isHot&&4===t.length&&(1===n||2===n),isTop:e.props.isHot&&4===t.length&&2===n},e.props))})))}}]),t}(h.a.Component),k=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={liveList:[],isLoading:!0},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"getRecomment",value:function(){var e=this;r.a.loading("\u6b63\u5728\u52a0\u8f7d...",0),Object(E.e)({pageSize:100,pageNum:1}).then(function(t){r.a.hide(),e.setState({isLoading:!1});for(var a=[],n=0;n<1;n++)a=a.concat(t.data);e.setState({liveList:a})})}},{key:"setLiveList",value:function(e){var t=[{roomList:e,category:e[0].category}];this.setState({liveList:t})}},{key:"componentDidMount",value:function(){this.getRecomment()}},{key:"render",value:function(){var e=this;return h.a.createElement(i.a,{size:"md",className:this.state.isLoading&&"recommand-min-height"},this.state.liveList.length||this.state.isLoading?this.state.liveList.map(function(t,a){return h.a.createElement(A,Object.assign({row:t,key:a,isHot:"\u70ed\u95e8\u63a8\u8350"===t.category.name,isShow:3===t.category.id},e.props))}):h.a.createElement("img",{className:"none-recommand",src:j.a}))}}]),t}(h.a.Component);t.a=k},187:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyBAMAAADsEZWCAAAAKlBMVEVHcEzv7+/y8vLv7+/v7+/x8fHv7+/u7u729vbv7+/u7u7Z2dng4ODn5+e7ioP8AAAACnRSTlMA8A28olONchzd5LLP5QAAAUlJREFUOMt9lE1OwlAQx180ES4gQVcmxg0rwwITj9CdLl1h3LEi8QJwBLfsgELCSC/gqxdowwUqh7G0nY/3eNP/qpNfMzNvvoxBPXx8wc3o1fjqfkKtp5kHIkDFDrp4B1bvTpAXkLpm0AFXU/IVeSRGf/fga9iQ6IzE4Sgc6S1ANlX82wBZnnK4IjO3KX2PSzJH489a+4tGX2SW2JMKzq6Lf31X5AfNGeecVyTlvC/x09ZC89EMFLLid3pkYyYK2ZpnJYO1WShZ7wxVrX5pRpUzANIdFw4EcSpaklAPam8Lhew4aziW3g7AWU9ke0SDtlSdfVODjKozcItD5VlhF/ZEMuxCR0YRkabY7ZxIit1uJsRaN1BMU+WTPk2i721M05sQKmh6m7cmx4odxMSLLSn8fVQ3q2Ub9Q3Wt77lUrRcF/0itVyxwOX7B1QNlKlqBg8AAAAAAElFTkSuQmCC"},188:function(e,t,a){},189:function(e,t,a){e.exports=a.p+"static/media/nodata.fabf6a4d.png"},192:function(e,t,a){},193:function(e,t,a){},84:function(e,t,a){"use strict";var n=a(9),i=a(10),o=a(12),r=a(11),c=a(13),s=a(0),l=a.n(s),u=a(101);t.a=function(e){return function(t){function a(e){var t;return Object(n.a)(this,a),(t=Object(o.a)(this,Object(r.a)(a).call(this,e))).state={},t}return Object(c.a)(a,t),Object(i.a)(a,[{key:"download",value:function(){Object(u.a)()}},{key:"render",value:function(){return l.a.createElement(e,Object.assign({onClick:this.download.bind(this)},this.props))}}]),a}(s.Component)}},85:function(e,t,a){"use strict";var n=a(59),i={clientName:"Mobile",clicentVersion:"3.0"};function o(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t){var o=[];Object.keys(t).forEach(function(e){o.push("".concat(e,"=").concat(encodeURIComponent(t[e]).toString()))}),o.length>0&&(-1===e.search(/\?/)?e+="?"+o.join("&"):e+="&"+o.join("&"))}return function(e){try{return e.then(function(e){if(200===e.status)return e;throw e}).catch(function(e){return e.json?e.json():Promise.reject("\u8bf7\u6c42\u5f02\u5e38")}).then(function(e){if(200===e.status){var t=e.json();return t}throw e.exceptionInfo?e.exceptionInfo.length>30?"\u63a5\u53e3\u8bf7\u6c42\u5f02\u5e38":e.exceptionInfo:e}).then(function(e){return e})}catch(t){return Promise.reject("\u8bf7\u6c42\u5f02\u5e38")}}(fetch(e,{method:"GET",headers:new Headers(Object(n.a)({Accept:"application/json","Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},a,i))}))}a.d(t,"e",function(){return r}),a.d(t,"a",function(){return c}),a.d(t,"d",function(){return s}),a.d(t,"b",function(){return l}),a.d(t,"c",function(){return u});var r=function(e){return o("/proxy/ieg-hall/hall/index/recommend",e)},c=function(e){return o("/proxy/ieg-config/configs/".concat(e))},s=function(e){return o("/proxy/ieg-live/lives/".concat(e))},l=function(e){return o("/proxy/ieg-hall/hall/category/categories")},u=function(e){return o("/proxy/ieg-hall/hall/rooms",e)}}}]);
//# sourceMappingURL=2.496c82ed.chunk.js.map