(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{194:function(e,t,a){},195:function(e,t,a){},211:function(e,t,a){"use strict";a.r(t);var n=a(59),i=a(9),l=a(10),s=a(12),r=a(11),c=a(13),o=(a(53),a(54)),m=a.n(o),d=a(0),p=a.n(d),u=(a(194),a(195),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return p.a.createElement("div",{className:"jplayer jplayer-none"},p.a.createElement("div",{className:"jplayer-room"},p.a.createElement("span",null,"\u623f\u95f4\u53f7\uff1a",this.props.liveData.id)),p.a.createElement("div",{className:"jplayer-none__text"},"\u4e3b\u64ad\u4e0d\u5728\u76f4\u64ad\u54e6\uff5e ",p.a.createElement("br",null),"\u5173\u6ce8\u4e3b\u64ad\u5f00\u901a\u53ca\u65f6\u901a\u77e5"))}}]),t}(p.a.Component)),v=null,h=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(r.a)(t).call(this,e))).state={domId:"m-player",isPlay:!1,isEnd:!0,isLiveLoading:!1},a}return Object(c.a)(t,e),Object(l.a)(t,[{key:"replaceStr",value:function(e){return e?e.replace(/\?/g,".m3u8?").replace(/rtmp/,"https"):""}},{key:"init",value:function(e){try{var t=e;t.width="100%",t.height="100%",t.autoplay=!0,t.m3u8=this.replaceStr(t.rtmp),t.wording={5:"flash\u672a\u542f\u7528",13:"\u76f4\u64ad\u5df2\u7ed3\u675f",1001:"\u7f51\u7edc\u9519\u8bef\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u914d\u7f6e\u6216\u8005\u64ad\u653e\u94fe\u63a5\u662f\u5426\u6b63\u786e\u3002",1002:"\u83b7\u53d6\u89c6\u9891\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u64ad\u653e\u94fe\u63a5\u662f\u5426\u6709\u6548\u3002",2032:"\u8bf7\u6c42\u89c6\u9891\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc",2048:"\u8bf7\u6c42m3u8\u6587\u4ef6\u5931\u8d25\uff0c\u53ef\u80fd\u662f\u7f51\u7edc\u9519\u8bef\u6216\u8005\u8de8\u57df\u95ee\u9898"},(v=new TcPlayer(this.state.domId,t)).listener=this.listener.bind(this)}catch(a){console.log(a)}}},{key:"componentWillUnmount",value:function(){v.destroy()}},{key:"listener",value:function(e){"play"===e.type&&this.setState({isPlay:!0}),"pause"===e.type&&this.setState({isPlay:!1}),"ended"===e.type&&this.setState({isEnd:!0}),"error"===e.type&&this.setState({isEnd:!0}),"load"===e.type&&this.setState({isLiveLoading:!0}),"timeupdate"===e.type&&this.state.isLiveLoading&&this.setState({isLiveLoading:!1})}},{key:"componentDidMount",value:function(){console.log(this.props)}},{key:"render",value:function(){return p.a.createElement("div",{className:"jplayer"},p.a.createElement("div",{id:this.state.domId,className:"jplayer-wrapper"}),p.a.createElement("div",{className:"jplayer-room"},p.a.createElement("span",null,"\u623f\u95f4\u53f7\uff1a",this.props.liveData.id)))}}]),t}(p.a.Component);h.defaultProps={liveData:{}};var y,f=(y=h,function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return 1!==this.props.liveData.status?p.a.createElement(u,this.props):p.a.createElement(y,Object.assign({ref:"play"},this.props))}}]),t}(p.a.Component)),j=a(85),E=a(101),b=a(121),O=a(119),_=a(120),N=a(84),g=a(117),k=Object(N.a)(m.a),D=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(r.a)(t).call(this,e))).state={liveId:a.props.match.params.id,liveData:{},targetScroll:null},a}return Object(c.a)(t,e),Object(l.a)(t,[{key:"fetchData",value:function(){var e=this;Object(j.d)(this.state.liveId).then(function(t){0===t.code&&(e.setState({liveData:t.data}),1===t.data.status&&e.refs.jplayer.refs.play.init({rtmp:t.data.pullAddr,poster:t.data.cover}))})}},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=Object(n.a)({},this.state).liveData;return p.a.createElement("div",{className:"detail"},p.a.createElement(O.a,null),p.a.createElement(f,{ref:"jplayer",liveData:e}),p.a.createElement("div",{className:"detail-live"},p.a.createElement("div",{className:"detail-live__header"},p.a.createElement(g.a,{className:"detail-live__header-image bg",url:e.figureUrl})),p.a.createElement("div",{className:"detail-live__center"},p.a.createElement("div",{className:"detail-live__center-name"},e.nickname),p.a.createElement("div",{className:"detail-live__center-number"},"\u6293\u996d\u53f7\uff1a",this.state.liveId),p.a.createElement("div",{className:"detail-live__center-hint"},e.typeName,p.a.createElement("span",{className:"detail-live__center-hint-line"}),"\u4eba\u6c14\uff1a",p.a.createElement("span",{className:"detail-live__center-hint-hits"},Object(E.d)(e.hits)))),p.a.createElement("div",{className:"detail-live__follow"},p.a.createElement(k,{className:"detail-live__follow-button",type:"primary"},p.a.createElement("span",null,"+"),"\u5173\u6ce8"))),p.a.createElement("div",{className:"detail-notice"},p.a.createElement("div",{className:"detail-notice__text"},e.notice?e.notice:"\u6682\u65e0\u516c\u544a\uff01")),p.a.createElement(b.a,null),p.a.createElement("div",{className:"detail-more"},p.a.createElement(k,{type:"primary"},"\u6253\u5f00\u6293\u996d\u76f4\u64ad\u770b\u66f4\u591a\u7cbe\u5f69\u5185\u5bb9")),p.a.createElement(_.a,Object.assign({liveData:this.state.liveData},this.props)))}}]),t}(p.a.Component);t.default=D}}]);
//# sourceMappingURL=11.3dd232f9.chunk.js.map