(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{191:function(e,t,a){},212:function(e,t,a){"use strict";a.r(t);a(169);var n=a(171),s=a.n(n),i=(a(75),a(76)),r=a.n(i),c=(a(114),a(115)),l=a.n(c),o=(a(177),a(179)),u=a.n(o),m=a(59),h=a(9),f=a(10),d=a(12),p=a(11),b=a(13),v=(a(53),a(54)),y=a.n(v),g=a(0),j=a.n(g),k=a(85),O=a(184),E=a(121),C=a(190),w=(a(191),function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={scroll:null,list:[{id:0,name:"\u63a8\u8350"}],selected:0},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"initScroll",value:function(){if(this.state.scroll)this.state.scroll.refresh();else{var e=52*this.state.list.length;this.refs.scrollContent.style.width=e+50+"px";var t=new C.a(".classify",{startX:0,click:!0,scrollX:!0,scrollY:!1,eventPassthrough:"vertical"});this.setState({scroll:t})}}},{key:"getClassifyList",value:function(){var e=this;Object(k.b)().then(function(t){e.setState({list:e.state.list.concat(t.data||[])}),e.initScroll()})}},{key:"componentDidMount",value:function(){this.getClassifyList()}},{key:"selectClassify",value:function(e,t){this.setState({selected:t}),0!==e.id?this.props.clickItem(e):this.props.refresh()}},{key:"rightMove",value:function(){var e=document.defaultView.getComputedStyle(this.refs.scrollContent,null).transform,t=(e=parseFloat(e.substring(7).split(",")[4]))?e-200:-200;this.state.scroll.scrollTo(t,0,500)}},{key:"render",value:function(){var e=this;return j.a.createElement("div",{className:"classify"},j.a.createElement("div",{className:"classify-content",ref:"scrollContent"},this.state.list.map(function(t,a){return j.a.createElement("div",{onClick:e.selectClassify.bind(e,t,a),className:["classify-content-item",e.state.selected===a?"selected":null].join(" "),key:a},j.a.createElement("span",null,t.name))})),j.a.createElement("div",{className:"classify-icon",onClick:this.rightMove.bind(this)}))}}]),t}(j.a.Component)),N=a(119),L=a(120),S=a(84),_=Object(S.a)(y.a),I=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=Object(m.a)({},this.props).list;return j.a.createElement(u.a,{autoplay:!0,infinite:!0,class:"banner-wrapper"},e.map(function(e,t){return j.a.createElement("div",{key:t,className:"banner-item",style:{backgroundImage:"url(".concat(e.imageUrl,")")}})}))}}]),t}(j.a.Component),B=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"goTop",value:function(){var e=document.getElementsByClassName("am-pull-to-refresh")[0];Object(O.a)(e,{top:-e.scrollTop,behavior:"smooth",duration:2e3})}},{key:"render",value:function(){return j.a.createElement("div",{className:"footer-wrapper"},j.a.createElement("div",{className:"footer-wrapper__top",onClick:this.goTop.bind(this)},j.a.createElement("span",{className:"footer-wrapper__top-icon bg"}),j.a.createElement("span",null,"\u8fd4\u56de\u9876\u90e8")),j.a.createElement(_,{type:"primary",className:"footer-wrapper__button"},"\u4e0b\u8f7d\u5ba2\u6237\u7aef"),j.a.createElement("div",{className:"footer-wrapper__copy"},"\u7248\u6743\u6240\u6709 \xa9 2017-\u73b0\u5728 ",j.a.createElement("br",null),"\u5907\u6848\u53f7\uff1a\u7ca4ICP\u590718014271\u53f7-2"))}}]),t}(j.a.Component),M=function(e){function t(e){var a;return Object(h.a)(this,t),a=Object(d.a)(this,Object(p.a)(t).call(this,e)),console.log(e),a.state={bannerList:[],liveList:[],height:document.documentElement.clientHeight},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"getBanner",value:function(){var e=this;Object(k.a)("mobileBannerConfig").then(function(t){e.setState({bannerList:t.data}),l.a.hide()})}},{key:"clickClassifyItem",value:function(e){var t=this;e&&e.id&&(l.a.loading("\u6b63\u5728\u52a0\u8f7d...",0),Object(k.c)({pageSize:100,pageNum:1,categoryId:e.id}).then(function(e){l.a.hide(),0===e.code?e.data.list.length?t.refs.recommand.setLiveList(e.data.list):l.a.info("\u8be5\u5206\u7c7b\u4e0b\u6682\u65e0\u76f4\u64ad\u95f4\uff01",1,null,!1):l.a.fail("\u63a5\u53e3\u62a5\u9519",2)}))}},{key:"refreshData",value:function(){this.getBanner(),this.refs.recommand.getRecomment()}},{key:"refreshRecomment",value:function(){this.refs.recommand.getRecomment()}},{key:"componentDidMount",value:function(){this.getBanner()}},{key:"render",value:function(){return j.a.createElement("div",null,j.a.createElement(s.a,{onRefresh:this.refreshData.bind(this),style:{height:this.state.height,overflow:"auto"}},j.a.createElement(N.a,{isHome:!0}),j.a.createElement(w,{clickItem:this.clickClassifyItem.bind(this),refresh:this.refreshRecomment.bind(this)}),j.a.createElement(I,{list:this.state.bannerList}),j.a.createElement(E.a,{ref:"recommand",scrollMain:document.getElementsByClassName("am-pull-to-refresh")[0]}),j.a.createElement(r.a,{size:"md"},j.a.createElement(B,{parent:this.refs.refresh}))),j.a.createElement(L.a,Object.assign({guidance:!0},this.props)))}}]),t}(j.a.Component);t.default=M}}]);
//# sourceMappingURL=14.1d7f9960.chunk.js.map