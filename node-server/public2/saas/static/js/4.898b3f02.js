(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"4cX1":function(s,e,t){"use strict";t.r(e);var o=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("section",{staticClass:"reset-wrapper"},[t("div",{staticClass:"top-wrapper"},[t("div",{staticClass:"img"},[t("img",{attrs:{height:"70",src:s.info.logo}}),t("span",{staticClass:"split"}),t("span",[s._v("业务支持系统管理后台")])])]),t("div",{staticClass:"main-wrapper"},[t("el-form",{ref:"form",staticClass:"form-content"},[t("div",{staticClass:"input-title"},[s._v("修改密码")]),t("nb-form",{attrs:{placeholder:"原密码",required:":请输入原密码",type:"password",prop:"old"},model:{value:s.resetModel.old,callback:function(e){s.$set(s.resetModel,"old",e)},expression:"resetModel.old"}}),t("nb-form",{attrs:{placeholder:"新密码",required:"isPassword",type:"password",prop:"password"},model:{value:s.resetModel.password,callback:function(e){s.$set(s.resetModel,"password",e)},expression:"resetModel.password"}}),t("nb-form",{attrs:{placeholder:"确认新密码",required:"isPassword",type:"password",prop:"password2"},model:{value:s.resetModel.password2,callback:function(e){s.$set(s.resetModel,"password2",e)},expression:"resetModel.password2"}}),t("el-button",{staticClass:"confirm-btn",attrs:{type:"primary"},nativeOn:{click:function(e){return s.confirmReset(e)}}},[s._v("确认")])],1)],1),t("el-footer",{staticClass:"footer-wrapper",attrs:{data:s.info,className:"login-footer"}})],1)},r=[],a=(t("Og86"),t("o6Ot"),t("TQv8"),t("4TjA")),i=t("W9U2"),n=t("7stK"),l=t("AZo/"),d=t.n(l),p={data:function(){return{resetModel:{old:"",password:"",password2:""},info:{}}},mixins:[n["a"]],components:{ElFooter:a["a"],NbForm:i["a"]},methods:{confirmReset:function(){var s=this,e=this.validator(this.$refs.form);if(!e){if(this.resetModel.old===this.resetModel.password)return this.$message.warning("新密码不能与原密码相同！");if(this.resetModel.password!==this.resetModel.password2)return this.$message.warning("两次输入的密码不一样！");var t={param:{oldPassword:d()(this.resetModel.old),password:d()(this.resetModel.password)}};this.$store.dispatch("RESET_PASSWORD",t).then(function(e){e.success?(s.$message.success("密码修改成功，请重新登录！"),s.$store.dispatch("LOGOUT"),setTimeout(function(){s.$router.push({name:"login"})},1e3)):s.$message.error(e.msg)})}},init:function(){var s=this;this.$store.dispatch("WBS_NS",{name:"ns.enterpriseInfo",data:{}}).then(function(e){0===e.code&&(s.info=e.value)})}},mounted:function(){this.init()}},c=p,u=(t("7GsQ"),t("BI9D")),f=Object(u["a"])(c,o,r,!1,null,null,null);f.options.__file="reset.vue";e["default"]=f.exports},"7GsQ":function(s,e,t){"use strict";var o=t("Q0ax"),r=t.n(o);r.a},Q0ax:function(s,e,t){}}]);
//# sourceMappingURL=4.898b3f02.js.map