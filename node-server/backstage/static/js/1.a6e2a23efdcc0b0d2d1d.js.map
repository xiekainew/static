{"version":3,"sources":["webpack:///src/pages/config/menu.vue","webpack:///./src/pages/config/menu.vue?0c2d","webpack:///./src/pages/config/menu.vue"],"names":["menu","data","editVisible","detaultProps","children","label","dataModel","id","title","icon","path","sort","parent","mixins","mixin","components","HiForm","computed","extends_default","vuex_esm","mapState","menuList","state","mounted","methods","confirm","_this","this","validator","$refs","form","Object","common","then","res","status","$message","success","$store","dispatch","show","edit","append","remove","_this2","$confirm","type","closeOver","renderContent","h","_ref","_this3","node","store","class","attrs","size","on","click","disabled","Boolean","length","config_menu","render","_vm","_h","$createElement","_c","_self","staticClass","_v","props","render-content","expand-on-click-node","visible","update:visible","$event","close","ref","label-width","required","prop","model","value","callback","$$v","$set","expression","_e","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/1.a6e2a23efdcc0b0d2d1d.js","sourcesContent":["<template>\n  <div class=\"menu\">\n    <div class=\"menu-bar\">\n      <el-button type='primary' size='mini' @click=\"show\">添加一级菜单</el-button>\n    </div>\n    <el-tree\n      :data=menuList\n      :props=\"detaultProps\"\n      :render-content=\"renderContent\"\n      :expand-on-click-node=\"false\"\n    >\n    </el-tree>\n    <el-dialog title=\"编辑\" :visible.sync=\"editVisible\" @close=\"closeOver\">\n      <el-form ref=\"form\" label-width=\"120px\">\n        <hi-form\n          label=\"标题\"\n          required\n          prop=\"v\"\n          v-model=\"dataModel.title\"\n        ></hi-form>\n        <hi-form\n          label=\"图标\"\n          required\n          prop=\"v\"\n          v-model=\"dataModel.icon\"\n        ></hi-form>\n        <hi-form\n          label=\"路径\"\n          v-model=\"dataModel.path\"\n        ></hi-form>\n        <hi-form\n          label=\"排序\"\n          v-model=\"dataModel.sort\"\n        ></hi-form>\n        <hi-form\n          v-if=\"!dataModel.id\"\n          label=\"父节点\"\n          disabled\n          v-model=\"parent\"\n        ></hi-form>\n      </el-form>\n      <div slot=\"footer\">\n        <el-button @click=\"editVisible = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"confirm\">保存</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n<script type=\"text/javascript\">\n  import Vuex from 'vuex'\n  import HiForm from '@/components/HiForm'\n  import Mixin from '@/common/mixin'\n  import {\n    createMenu,\n    deleteMenu\n  } from '@/api/common'\n  export default {\n    data() {\n      return {\n        editVisible: false,\n        detaultProps: {\n          children: 'children',\n          label: 'title'\n        },\n        dataModel: {\n          id: '',\n          title: '',\n          icon: '',\n          path: '',\n          sort: '',\n          parent: ''\n        },\n        parent: ''\n      }\n    },\n    mixins: [Mixin],\n    components: {\n      HiForm\n    },\n    computed: {\n      ...Vuex.mapState({\n        menuList: state => state.menuList\n      })\n    },\n    mounted() {\n\n    },\n    methods: {\n      confirm() {\n        let value = this.validator(this.$refs.form)\n        if (value) return\n        createMenu(this.dataModel).then(res => {\n          if (res.status === 0) {\n            this.$message.success('成功！')\n            this.$store.dispatch('getMenu')\n            this.editVisible = false\n          }\n        })\n      },\n      show() {\n        this.editVisible = true\n      },\n      edit(data) {\n        this.dataModel.id = data.id\n        this.dataModel.title = data.title\n        this.dataModel.icon = data.icon\n        this.dataModel.path = data.path\n        this.dataModel.sort = data.sort\n        this.dataModel.parent = data.parent\n        this.show()\n      },\n      append(data) {\n        this.dataModel.parent = data.id\n        this.parent = data.title\n        this.show()\n      },\n      remove(data) {\n        this.$confirm('确认删除吗？', '友情提示', {type: 'warning'}).then(() => {\n          deleteMenu({id: data.id}).then(res => {\n            if (res.status === 0) {\n              this.$message.success('成功！')\n              this.$store.dispatch('getMenu')\n              this.editVisible = false\n            }\n          })\n        })\n      },\n      closeOver() {\n        this.dataModel.parent = ''\n        this.parent = ''\n        this.dataModel.id = ''\n        this.dataModel.title = ''\n        this.dataModel.icon = ''\n        this.dataModel.path = ''\n        this.dataModel.sort = ''\n      },\n      renderContent(h, { node, data, store }) {\n        return (\n          <span class=\"custom-tree-node\">\n            <span>{node.label}</span>\n            <span>\n              <el-button size=\"mini\" type=\"primary\" on-click={ () => this.append(data) }>添加</el-button>\n              <el-button size=\"mini\" type=\"success\" on-click={ () => this.edit(data) }>修改</el-button>\n              <el-button\n                size=\"mini\"\n                type=\"danger\"\n                disabled={Boolean(data.children && data.children.length)}\n                on-click={ () => this.remove(data) }\n              >删除</el-button>\n            </span>\n          </span>\n        )\n      }\n    }\n  }\n</script>\n<style lang=\"scss\">\n.menu{\n  padding: 20px;\n  background: white;\n  border-radius: 4px;\n  &-bar{\n    text-align: right;\n  }\n}\n  .custom-tree-node {\n    flex: 1;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    font-size: 14px;\n    padding-left: 8px;\n  }\n  .el-tree-node{\n    margin: 4px 0;\n\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/config/menu.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"menu\"},[_c('div',{staticClass:\"menu-bar\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.show}},[_vm._v(\"添加一级菜单\")])],1),_vm._v(\" \"),_c('el-tree',{attrs:{\"data\":_vm.menuList,\"props\":_vm.detaultProps,\"render-content\":_vm.renderContent,\"expand-on-click-node\":false}}),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"编辑\",\"visible\":_vm.editVisible},on:{\"update:visible\":function($event){_vm.editVisible=$event},\"close\":_vm.closeOver}},[_c('el-form',{ref:\"form\",attrs:{\"label-width\":\"120px\"}},[_c('hi-form',{attrs:{\"label\":\"标题\",\"required\":\"\",\"prop\":\"v\"},model:{value:(_vm.dataModel.title),callback:function ($$v) {_vm.$set(_vm.dataModel, \"title\", $$v)},expression:\"dataModel.title\"}}),_vm._v(\" \"),_c('hi-form',{attrs:{\"label\":\"图标\",\"required\":\"\",\"prop\":\"v\"},model:{value:(_vm.dataModel.icon),callback:function ($$v) {_vm.$set(_vm.dataModel, \"icon\", $$v)},expression:\"dataModel.icon\"}}),_vm._v(\" \"),_c('hi-form',{attrs:{\"label\":\"路径\"},model:{value:(_vm.dataModel.path),callback:function ($$v) {_vm.$set(_vm.dataModel, \"path\", $$v)},expression:\"dataModel.path\"}}),_vm._v(\" \"),_c('hi-form',{attrs:{\"label\":\"排序\"},model:{value:(_vm.dataModel.sort),callback:function ($$v) {_vm.$set(_vm.dataModel, \"sort\", $$v)},expression:\"dataModel.sort\"}}),_vm._v(\" \"),(!_vm.dataModel.id)?_c('hi-form',{attrs:{\"label\":\"父节点\",\"disabled\":\"\"},model:{value:(_vm.parent),callback:function ($$v) {_vm.parent=$$v},expression:\"parent\"}}):_vm._e()],1),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.editVisible = false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.confirm}},[_vm._v(\"保存\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6261c9ac\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/config/menu.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6261c9ac\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./menu.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./menu.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./menu.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6261c9ac\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./menu.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/config/menu.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}