webpackJsonp([4],{"KBt+":function(e,t){},Tvp7:function(e,t,a){"use strict";var r=a("M4fF"),i=a("E4LH"),n={data:function(){return{widthMap:{1:"70",2:"120",3:"150",4:"200",5:"300",6:"350",7:"170",8:"190",9:"200"},data:[],value1:[],cloneField:Object(r.cloneDeep)(this.field),sortFlag:!0,searchList:[],headerMaps:this.headerMap,tableRadio:"",tableHeight:0,cloneHeaders:Object(r.cloneDeep)(this.tableHeaders),cloneData:this.tableData,cloneRow:null,target:null}},props:{tableHeaders:{type:Array,default:function(){return[]}},tableData:{type:Array,default:function(){return[]}},select:String,radio:Boolean,index:{type:Boolean,default:!0},fixedOne:{type:Boolean,default:!0},clickData:{type:Array,default:function(){return[]}},minWidth:{type:String,default:"180"},format:{type:Array,default:function(){return[]}},align:{type:String,default:"center"},headerMap:{type:Array,default:function(){return[]}},defaultWidth:{type:String,default:"100"},position:{type:String,default:"right"}},watch:{tableHeaders:{deep:!0,handler:function(e){this.cloneHeaders=Object(r.cloneDeep)(e)}},tableData:function(e){this.cloneData=e},headerMap:function(){this.headerMaps=this.headerMap}},components:{},computed:{fixedWidth:function(){var e=this.clickData.length?this.clickData.length:"1";return this.widthMap[e]||"100"},_tableHeaders:function(){return this.cloneHeaders},isShowSearch:function(){return this.searchList.length>0}},methods:{selectionChange:function(e){this.$emit("selectionChange",e)},getData:function(){return this.cloneData},clickFirst:function(e,t,a){this.$emit("clickRow",e,t,a)},handleClick:function(e){this.$emit("clickRight",e)},formatRow:function(e,t){if(t.hasOwnProperty("type")){var a=t.type.split("|");return i.b[a[0]](e[t.headerKey],a[1])+(t.tips||"")||"-"}if(t.hasOwnProperty("rules")){var r=e[t.rules.key]===t.rules.value?t.rules.success:t.rules.error;return e[t.headerKey]&&e[t.headerKey]+r||"-"}return"-"===e[t.headerKey]&&t.tips?"-":t.hasOwnProperty("maps")?t.maps[e[t.headerKey]]:e[t.headerKey]&&e[t.headerKey]+(t.tips||"")||"-"},checkDropdown:function(e,t,a){var r=!1;return r=!0===t.value?a[t.key]:a[t.key]===t.value,e>0&&r},filterClickData:function(e,t){return Object(r.cloneDeep)(e).filter(function(e){return!e.disabled&&(!e.hasOwnProperty("key")&&!e.hasOwnProperty("rule")||(!t||(!0===e.result?t[e.key]:e.sym?t[e.key]!==e.result:e.hasOwnProperty("rule")?e.rule(t):t[e.key]===e.result)))})},selectRow:function(e,t){"radio"===this.select?(this.$refs.table.clearSelection(),Object(r.isEqual)(t,this.cloneRow)?(this.cloneRow=null,this.$emit("selectRow",[],{})):(this.cloneRow=t,this.$refs.table.toggleRowSelection(t),this.$emit("selectRow",t?[t]:[],t))):this.$emit("selectRow",e,t)},setSelect:function(e){var t=this;e.forEach(function(e){t.$refs.table.toggleRowSelection(e)})},selectable:function(e,t){return!(0===e.scope||e.scope>0)},changeInput:function(e){this.$emit("change",e)}},mounted:function(){}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"hi-table-wrapper"},[a("el-table",{ref:"table",class:{"el-table_radio":"radio"===e.select},staticStyle:{width:"100%"},attrs:{data:e.cloneData,border:"","tooltip-effect":"dark",stripe:!1},on:{"selection-change":e.selectionChange,select:e.selectRow,"select-all":e.selectRow}},[e.index&&"right"===e.position?a("el-table-column",{attrs:{type:"index",align:e.align,label:"序号",width:"50"}}):e._e(),e._v(" "),e.select&&"left"===e.position?a("el-table-column",{attrs:{type:"selection",selectable:e.selectable,align:"center",fixed:"left",label:"操作(单选)",width:"70"}}):e._e(),e._v(" "),e._l(e._tableHeaders,function(t,r){return a("el-table-column",{key:t.headerKey,attrs:{prop:t.headerKey,"min-width":t.width||e.defaultWidth,align:e.align,label:t.headerName},scopedSlots:e._u([{key:"default",fn:function(i){return[t.hasOwnProperty("img")?[t.img.type||t.img.value===i.row[t.img.key]?a("img",{attrs:{src:t.img.url,width:"12"}}):e._e()]:e._e(),e._v(" "),t.click?a("a",{staticClass:"table-a-wrapper",attrs:{type:"text"},on:{click:function(a){a.stopPropagation(),e.clickFirst(i.row,t,r)}}},[e._v("\n                    "+e._s(e.formatRow(i.row,t))+"\n                ")]):t.ableInput?[a("el-input",{staticStyle:{width:"70%","margin-right":"10px"},attrs:{type:t.inputType},on:{input:e.changeInput},model:{value:i.row[t.headerKey],callback:function(a){e.$set(i.row,t.headerKey,a)},expression:"scope.row[item.headerKey]"}}),e._v("\n                    "+e._s(t.tips)+"\n                ")]:t.ableSelect?[a("div",[a("el-select",{attrs:{placeholder:"请选择"},model:{value:i.row[t.headerKey],callback:function(a){e.$set(i.row,t.headerKey,a)},expression:"scope.row[item.headerKey]"}},e._l(t.rowOptions,function(e){return a("el-option",{key:e[t.defaultKey.value],attrs:{label:e[t.defaultKey.label],value:e[t.defaultKey.value]}})}))],1)]:t.image?[a("img",{staticClass:"nb-image",attrs:{src:i.row[t.headerKey],alt:""}})]:[e._v("\n                    "+e._s(e.formatRow(i.row,t))+"\n                ")]]}}])},e._l(t.mergeHeader,function(e){return a("el-table-column",{key:e.headerKey,attrs:{prop:e.headerKey,label:e.headerName,width:"120",aligin:"center"}})}))}),e._v(" "),e.select&&"right"===e.position?a("el-table-column",{attrs:{type:"selection",selectable:e.selectable,align:"center",fixed:"right",label:"操作(单选)",width:"70"}}):e._e(),e._v(" "),e.filterClickData(e.clickData).length?a("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center","header-align":"center",width:e.fixedWidth},scopedSlots:e._u([{key:"default",fn:function(t){return e.filterClickData(e.clickData).length?e._l(e.filterClickData(e.clickData,t.row),function(r){return a("el-button",{key:r.value,attrs:{type:"text"},on:{click:function(a){e.handleClick({row:t.row,type:r.value})}}},[e._v("\n                    "+e._s(r.label)+"\n                ")])}):void 0}}])},[e._t("default")],2):e._e()],2)],1)},staticRenderFns:[]};var s=a("VU/8")(n,l,!1,function(e){a("V/kC")},null,null);t.a=s.exports},"V/kC":function(e,t){},f744:function(e,t,a){"use strict";t.a={methods:{validator:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=null,r=arguments[2]?"checkErrorValue":"checkValue";return e.$children.map(function(e){e.prop&&e[r]&&(t.length?-1!==t.indexOf(e.prop)&&(a?e[r]():a=e[r]()):a?e[r]():a=e[r]())}),a},validatorError:function(e){return this.validator(e,[],!0)},reset:function(e){e.$children.map(function(e){e.reset&&e.reset()})},back:function(){this.$router.go(-1)}}}},m2Or:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("Tvp7"),i=a("patu"),n=a("t5DY"),l={data:function(){return{userList:[],tableHeaders:[{headerKey:"name",headerName:"用户名"},{headerKey:"phone",headerName:"手机号"},{headerKey:"type",headerName:"类型"}],createVisible:!1,createModel:{nick:"",password:""},clickData:[{label:"删除",value:1}]}},mixins:[a("f744").a],components:{HiTable:r.a,HiForm:i.a},methods:{fetchList:function(){var e=this;Object(n.e)().then(function(t){console.log(t),e.userList=t.data||[]})},confirm:function(){var e=this;this.validator(this.$refs.form)||Object(n.g)(this.createModel).then(function(t){0===t.status?(e.createVisible=!1,e.fetchList(),e.$message.success("创建成功！")):e.$message.error(t.msg)})},create:function(){var e=this;this.createVisible=!0,this.$nextTick(function(){e.reset(e.$refs.form)})},clickRight:function(e){var t=this;console.log(e),this.$confirm("确认要删除吗？","提示信息",{type:"warning"}).then(function(){Object(n.c)({name:e.row.name}).then(function(e){0===e.status?(t.createVisible=!1,t.fetchList(),t.$message.success("删除成功！")):t.$message.error(e.msg)})})}},mounted:function(){this.fetchList()}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user"},[a("div",{staticClass:"user-nav"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.create}},[e._v("创建用户")])],1),e._v(" "),a("hi-table",{attrs:{tableData:e.userList,tableHeaders:e.tableHeaders,clickData:e.clickData},on:{clickRight:e.clickRight}}),e._v(" "),a("el-dialog",{attrs:{title:"创建用户",visible:e.createVisible},on:{"update:visible":function(t){e.createVisible=t}}},[a("el-form",{ref:"form",attrs:{"label-width":"120px"}},[a("hi-form",{attrs:{label:"名称",prop:"v",required:""},model:{value:e.createModel.nick,callback:function(t){e.$set(e.createModel,"nick",t)},expression:"createModel.nick"}}),e._v(" "),a("hi-form",{attrs:{label:"密码",type:"password",prop:"v",required:""},model:{value:e.createModel.password,callback:function(t){e.$set(e.createModel,"password",t)},expression:"createModel.password"}})],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.createVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确认")])],1)],1)],1)},staticRenderFns:[]};var c=a("VU/8")(l,s,!1,function(e){a("KBt+")},null,null);t.default=c.exports}});
//# sourceMappingURL=4.123d8b01b5e95426ad20.js.map