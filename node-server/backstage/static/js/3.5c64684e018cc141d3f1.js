webpackJsonp([3],{"35tr":function(t,o){},Cdx3:function(t,o,n){var e=n("sB3e"),i=n("lktj");n("uqUo")("keys",function(){return function(t){return i(e(t))}})},P6sO:function(t,o){},fZjL:function(t,o,n){t.exports={default:n("jFbC"),__esModule:!0}},jFbC:function(t,o,n){n("Cdx3"),t.exports=n("FeBl").Object.keys},jT7l:function(t,o,n){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var e=n("fZjL"),i=n.n(e),a=n("E4LH"),r=n("t5DY"),s={name:"login",data:function(){return{loginForm:{nick:"admin",password:"123123"},loginRules:{nick:[{required:!0,trigger:"blur",validator:function(t,o,n){Object(a.j)(o)?n():n(new Error("Please enter the correct user name"))}}],password:[{required:!0,trigger:"blur",validator:function(t,o,n){o.length<6?n(new Error("The password can not be less than 6 digits")):n()}}]},passwordType:"password",capsTooltip:!1,loading:!1,redirect:void 0,otherQuery:{}}},watch:{$route:{handler:function(t){var o=t.query;o&&(this.redirect=o.redirect,this.otherQuery=this.getOtherQuery(o))},immediate:!0}},created:function(){},mounted:function(){this.handleCanvas(),""===this.loginForm.nick?this.$refs.nick.focus():""===this.loginForm.password&&this.$refs.password.focus()},destroyed:function(){},methods:{checkCapslock:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=t.shiftKey,n=t.key;n&&1===n.length&&(this.capsTooltip=!!(o&&n>="a"&&n<="z"||!o&&n>="A"&&n<="Z")),"CapsLock"===n&&!0===this.capsTooltip&&(this.capsTooltip=!1)},showPwd:function(){var t=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick(function(){t.$refs.password.focus()})},handleLogin:function(){var t=this;this.$refs.loginForm.validate(function(o){if(!o)return console.log("error submit!!"),!1;t.loading=!0,Object(r.i)(t.loginForm).then(function(o){t.loading=!1,0===o.status?(t.$message.success(o.msg),t.$store.commit("updateToken",o.data),t.$store.commit("updateUserInfo",{name:o.data.name,avatar:o.data.avatar,id:o.data.id}),t.$router.push({path:"/dashboard"})):t.$message.warning(o.msg),console.log(o)})})},getOtherQuery:function(t){return i()(t).reduce(function(o,n){return"redirect"!==n&&(o[n]=t[n]),o},{})},handleCanvas:function(){var t=document.getElementById("canvas"),o=t.getContext("2d"),n=[0,0],e=5,i="#2d3a4b",a="#20a0ff",r="#20a0ff",s=[],c=[];function l(){for(var o=0;o<15;o++){var n={drivenByMouse:0==o,x:Math.random()*t.width,y:Math.random()*t.height,vx:1*Math.random()-.5,vy:1*Math.random()-.5,radius:Math.random()>.9?2+2*Math.random():1+2*Math.random()};s.push(n)}s.forEach(function(t){s.forEach(function(o){t!=o&&function(t){var o=!1;c.forEach(function(n){n.from==t.from&&n.to==t.to&&(o=!0),n.to==t.from&&n.from==t.to&&(o=!0)}),o||c.push(t)}({from:t,to:o})})})}function d(){o.fillStyle=i,o.fillRect(0,0,t.width,t.height),c.forEach(function(n){var e,i=(e=n,Math.sqrt(Math.pow(e.from.x-e.to.x,2)+Math.pow(e.from.y-e.to.y,2))),a=t.width/4;i>a||(o.strokeStyle=r,o.lineWidth=2*(1-i/a),o.globalAlpha=1-i/a,o.beginPath(),o.moveTo(n.from.x,n.from.y),o.lineTo(n.to.x,n.to.y),o.stroke())}),o.globalAlpha=1,s.forEach(function(t){t.drivenByMouse||(o.fillStyle=a,o.beginPath(),o.arc(t.x,t.y,t.radius,0,2*Math.PI),o.fill())})}t.width=document.body.clientWidth,t.height=document.body.clientHeight,window.onresize=function(){t.width=document.body.clientWidth,t.height=document.body.clientHeight,0==s.length&&l(),d()},window.onmousemove=function(t){n[0]=t.clientX,n[1]=t.clientY},window.onresize(),window.requestAnimationFrame(function o(){s.forEach(function(o){function n(t,o,n){return n>o?o:n<t?t:n}o.drivenByMouse||(o.x+=o.vx,o.y+=o.vy,(o.x<=0||o.x>=t.width)&&(o.vx*=-1,o.x=n(0,t.width,o.x)),(o.y<=0||o.y>=t.height)&&(o.vy*=-1,o.y=n(0,t.height,o.y)))}),s[0].x+=(n[0]-s[0].x)/e,s[0].y+=(n[1]-s[0].y)/e,d(),window.requestAnimationFrame(o)})}}},c={render:function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("div",{staticClass:"login-container"},[n("canvas",{staticClass:"canvas",attrs:{height:"640",width:"100%",id:"canvas"}}),t._v(" "),n("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:t.loginForm,rules:t.loginRules,autocomplete:"on","label-position":"left"}},[n("div",{staticClass:"title-container"},[n("h3",{staticClass:"title"},[t._v("Welcome")])]),t._v(" "),n("el-form-item",{attrs:{prop:"nick"}},[n("span",{staticClass:"svg-container"},[n("svg-icon",{attrs:{"icon-class":"user"}})],1),t._v(" "),n("el-input",{ref:"nick",attrs:{placeholder:"nick",name:"nick",type:"text",tabindex:"1",autocomplete:"on"},model:{value:t.loginForm.nick,callback:function(o){t.$set(t.loginForm,"nick",o)},expression:"loginForm.nick"}})],1),t._v(" "),n("el-tooltip",{attrs:{content:"Caps lock is On",placement:"right",manual:""},model:{value:t.capsTooltip,callback:function(o){t.capsTooltip=o},expression:"capsTooltip"}},[n("el-form-item",{attrs:{prop:"password"}},[n("span",{staticClass:"svg-container"},[n("svg-icon",{attrs:{"icon-class":"password"}})],1),t._v(" "),n("el-input",{key:t.passwordType,ref:"password",attrs:{type:t.passwordType,placeholder:"Password",name:"password",tabindex:"2",autocomplete:"on"},on:{blur:function(o){t.capsTooltip=!1}},nativeOn:{keyup:[function(o){return t.checkCapslock(o)},function(o){return"button"in o||!t._k(o.keyCode,"enter",13,o.key,"Enter")?t.handleLogin(o):null}]},model:{value:t.loginForm.password,callback:function(o){t.$set(t.loginForm,"password",o)},expression:"loginForm.password"}}),t._v(" "),n("span",{staticClass:"show-pwd",on:{click:t.showPwd}},[n("svg-icon",{attrs:{"icon-class":"password"===t.passwordType?"eye":"eye-open"}})],1)],1)],1),t._v(" "),n("el-button",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{loading:t.loading,type:"primary"},nativeOn:{click:function(o){return o.preventDefault(),t.handleLogin(o)}}},[t._v("Login")])],1)],1)},staticRenderFns:[]};var l=n("VU/8")(s,c,!1,function(t){n("35tr"),n("P6sO")},"data-v-98d159ce",null);o.default=l.exports},uqUo:function(t,o,n){var e=n("kM2E"),i=n("FeBl"),a=n("S82l");t.exports=function(t,o){var n=(i.Object||{})[t]||Object[t],r={};r[t]=o(n),e(e.S+e.F*a(function(){n(1)}),"Object",r)}}});
//# sourceMappingURL=3.5c64684e018cc141d3f1.js.map