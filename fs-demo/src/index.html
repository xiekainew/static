<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>index</title>
	<link rel="stylesheet" href="./style/index.scss"/>
</head>
<body>
	<link rel="import" href="./components/navigation.html?__inline">
	<div class="fit-main wrapper" id="index">
		<div class="wrapper-main">
			<div class="wrapper-main__title">
				<div class="">
					<i class="iconfont icon">&#xe627;</i>
				</div>
			</div>
			<div class="wrapper-main__list">
				<div 
					class="wrapper-main__list--item"
					v-for="item in list"
					:key="item.id"
				>
					{{item.title}}
				</div>
			</div>
		</div>
		<div class="wrapper-slide">
			adf
		</div>
	</div>
	<link rel="import" href="./components/footers.html?__inline">
	<script type="text/javascript" src="./js/index.js"></script>
	<script type="text/javascript">
		(function() {
		    handleAddListener('load', getTiming)
		    function handleAddListener(type, fn) {
		        if(window.addEventListener) {
		            window.addEventListener(type, fn)
		        } else {
		            window.attachEvent('on' + type, fn)
		        }
		    }
		    console.log(1)
		    function getTiming() {
		        try {
		            var time = performance.timing;
		            var timingObj = {};

		            var loadTime = (time.loadEventEnd - time.loadEventStart) / 1000;

		            if(loadTime < 0) {
		                setTimeout(function() {
		                    getTiming();
		                }, 200);
		                return;
		            }

		            timingObj['解析DOM树结构的时间'] = (time.domComplete - time.responseEnd) / 1;

		            timingObj['重定向时间'] = (time.redirectEnd - time.redirectStart) / 1;
		            timingObj['DNS解析时间'] = (time.domainLookupEnd - time.domainLookupStart) / 1;
		            timingObj['TCP完成握手时间'] = (time.connectEnd - time.connectStart) / 1;
		            timingObj['HTTP请求响应完成时间'] = (time.responseEnd - time.requestStart) / 1;
		            timingObj['DOM开始加载前所花费时间'] = (time.responseEnd - time.navigationStart) / 1;
		            timingObj['白屏时间'] = (time.domLoading - time.fetchStart) / 1;
		            timingObj['DOM加载完成时间'] = (time.domComplete - time.domLoading) / 1;
		            timingObj['DOM结构解析完成时间'] = (time.domInteractive - time.domLoading) / 1;
		            timingObj['脚本加载时间'] = (time.domContentLoadedEventEnd - time.domContentLoadedEventStart) / 1;
		            timingObj['onload事件时间'] = (time.loadEventEnd - time.loadEventStart) / 1;
		            timingObj['页面完全加载时间'] = (timingObj['重定向时间'] + timingObj['DNS解析时间'] + timingObj['TCP完成握手时间'] + timingObj['HTTP请求响应完成时间'] + timingObj['DOM结构解析完成时间'] + timingObj['DOM加载完成时间']);

		            for(item in timingObj) {
		                console.log(item + ":" + timingObj[item] + '毫秒(ms)');
		            }

		            console.log(performance.timing);

		        } catch(e) {
		            console.log(timingObj)
		            console.log(performance.timing);
		        }
		    }
		})();
	</script>
</body>
</html>