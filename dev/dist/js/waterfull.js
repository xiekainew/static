var waterFullCanvas=function(t,i,e){var n=this;this.c=t,this.ctx=t.getContext("2d"),this.cw=i,this.ch=e,this.particles=[],this.particleRate=1,this.gravity=.15,this.init=function(){this.loop()},this.reset=function(){this.ctx.clearRect(0,0,this.cw,this.ch),this.particles=[]},this.rand=function(t,i){return~~(Math.random()*(i-t+1)+t)},this.Particle=function(){var t=n.rand(1,20),i=n.rand(1,45);this.x=n.rand(10+t/2,n.cw-10-t/2),this.y=-i,this.vx=0,this.vy=0,this.width=t,this.height=i,this.hue=n.rand(200,220),this.saturation=n.rand(30,60),this.lightness=n.rand(30,60)},this.Particle.prototype.update=function(){this.vx+=this.vx,this.vy+=n.gravity,this.x+=this.vx,this.y+=this.vy},this.Particle.prototype.render=function(){n.ctx.strokeStyle="hsla("+this.hue+", "+this.saturation+"%, "+this.lightness+"%, .05)",n.ctx.beginPath(),n.ctx.moveTo(this.x,this.y),n.ctx.lineTo(this.x,this.y+this.height),n.ctx.lineWidth=this.width/2,n.ctx.lineCap="round",n.ctx.stroke()},this.Particle.prototype.renderBubble=function(){n.ctx.fillStyle="hsla("+this.hue+", 40%, 40%, 1)",n.ctx.fillStyle="hsla("+this.hue+", "+this.saturation+"%, "+this.lightness+"%, .3)",n.ctx.beginPath(),n.ctx.arc(this.x+this.width/2,n.ch-20-n.rand(0,10),n.rand(1,8),0,2*Math.PI,!1),n.ctx.fill()},this.createParticles=function(){for(var t=this.particleRate;t--;)this.particles.push(new this.Particle)},this.removeParticles=function(){for(var t=this.particleRate;t--;){var i=this.particles[t];i.y>n.ch-20-i.height&&(i.renderBubble(),n.particles.splice(t,1))}},this.updateParticles=function(){for(var t=this.particles.length;t--;){this.particles[t].update(t)}},this.renderParticles=function(){for(var t=this.particles.length;t--;){this.particles[t].render()}},this.clearCanvas=function(){this.ctx.globalCompositeOperation="destination-out",this.ctx.fillStyle="rgba(255,255,255,.06)",this.ctx.fillRect(0,0,this.cw,this.ch),this.ctx.globalCompositeOperation="lighter"},this.number=0,this.loop=function(){var t=function(){n.number++,n.number<43&&requestAnimationFrame(t),n.clearCanvas(),n.createParticles(),n.updateParticles(),n.renderParticles(),n.removeParticles()};t()}},isSupportCanvas=function(){var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))},setupRAF=function(){for(var a=0,t=["ms","moz","webkit","o"],i=0;i<t.length&&!window.requestAnimationFrame;i++)window.requestAnimationFrame=window[t[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[i]+"CancelAnimationFrame"]||window[t[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,i){var e=(new Date).getTime(),n=Math.max(0,16-(e-a));return window.requestAnimationFrame=window.setTimeout(function(){t(e+n)},n),a=e+n,id}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})};if(isSupportCanvas()){var c=document.getElementById("water"),cw=c.width=100,ch=c.height=140,waterfall=new waterFullCanvas(c,cw,ch);waterfall.init()}