<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>转盘</title>
	<style type="text/css">
		*{
			margin: 0;
			padding: 0;
		}
		.lottery{
			margin: 100px auto 0;
			width: 400px;
			height: 400px;
			border-radius: 50%;
			border: 4px solid #febd04;
			background: #f2903b;
			position: relative;
		}
		.lottery::after{
			content: '';
			position: absolute;
			left: 50%;
			top: 50%;
			width: 325px;
			height: 325px;
			transform: translateX(-50%) translateY(-50%);
			border-radius: 50%;
			border: 4px solid #febd04;
		}
		.lottery>ul.illumination>li{
			display: block;
		    width: 12px;
		    height: 12px;
		    background: #fff;
		    position: absolute;
		    top: 50%;
		    left: 50%;
		    margin: -6px 0 0 -6px;
		    border-radius: 50%;
		    z-index: 2;
		}
		.illumination li:nth-child(1) {
		    transform: rotate(0deg) translateY(-182px);
		}
		.illumination li:nth-child(2) {
		    transform: rotate(15deg) translateY(-182px);
		}
		.illumination li:nth-child(3) {
		    transform: rotate(30deg) translateY(-182px);
		}
		.illumination li:nth-child(4) {
		    transform: rotate(45deg) translateY(-182px);
		}
		.illumination li:nth-child(5) {
		    transform: rotate(60deg) translateY(-182px);
		}
		.illumination li:nth-child(6) {
		    transform: rotate(75deg) translateY(-182px);
		}
		.illumination li:nth-child(7) {
		    transform: rotate(90deg) translateY(-182px);
		}
		.illumination li:nth-child(8) {
		    transform: rotate(105deg) translateY(-182px);
		}
		.illumination li:nth-child(9) {
		    transform: rotate(120deg) translateY(-182px);
		}
		.illumination li:nth-child(10) {
		    transform: rotate(135deg) translateY(-182px);
		}
		.illumination li:nth-child(11) {
		    transform: rotate(150deg) translateY(-182px);
		}
		.illumination li:nth-child(12) {
		    transform: rotate(165deg) translateY(-182px);
		}
		.illumination li:nth-child(13) {
		    transform: rotate(180deg) translateY(-182px);
		}
		.illumination li:nth-child(14) {
		    transform: rotate(195deg) translateY(-182px);
		}
		.illumination li:nth-child(15) {
		    transform: rotate(210deg) translateY(-182px);
		}
		.illumination li:nth-child(16) {
		    transform: rotate(225deg) translateY(-182px);
		}
		.illumination li:nth-child(17) {
		    transform: rotate(240deg) translateY(-182px);
		}
		.illumination li:nth-child(18) {
		    transform: rotate(255deg) translateY(-182px);
		}
		.illumination li:nth-child(19) {
		    transform: rotate(270deg) translateY(-182px);
		}
		.illumination li:nth-child(20) {
		    transform: rotate(285deg) translateY(-182px);
		}
		.illumination li:nth-child(21) {
		    transform: rotate(300deg) translateY(-182px);
		}
		.illumination li:nth-child(22) {
		    transform: rotate(315deg) translateY(-182px);
		}
		.illumination li:nth-child(23) {
		    transform: rotate(330deg) translateY(-182px);
		}
		.illumination li:nth-child(24) {
		    transform: rotate(345deg) translateY(-182px);
		}


		.illumination li:nth-child(2n) {
		    background: yellow !important;
		    animation: twinkling 0.6s infinite ease-in-out;
		}
		.illumination li:nth-child(2n + 1) {
		    animation: twinkling2 0.6s  infinite ease-in-out;
		}
		@keyframes twinkling{
		    0%{
		        background: white;
		        /*border: 1px solid #fefdfc;*/
		    }   
		    
		    100%{
		        background: #fefe00;
		        /*border: none;*/
		        /*box-shadow: 0px 0px 0 2px #eb6f21;*/
		    }
		}
		@keyframes twinkling2{
		    0%{
		        background: #fefe00;
		        /*border: 1px solid #fefdfc;*/
		    }   
		    
		    100%{
		        background: white;
		        /*border: none;*/
		        /*box-shadow: 0px 0px 0 2px #eb6f21;*/
		    }
		}
		.lottery-sector{
			list-style: none;
		    width: 325px;
		    height: 325px;
		    position: absolute;
		    overflow: hidden;
		    top: 0;
		    border-radius: 50%;
		    position: absolute;
			left: 50%;
			z-index: 9;
			top: 50%;
			transform: translateX(-50%) translateY(-50%);
		}
		.lottery-sector>li{
			margin: 0;
		    width: 163px;
		    height: 163px;
		    position: absolute;
		    z-index: 4;
		    cursor: pointer;
		    transform-origin: 100% 100%;
		}
		.lottery-sector>li:nth-child(1){
			background-color: #FEFEFE;
    		transform: rotate(0deg) skew(30deg);
		}
		.lottery-sector>li:nth-child(2){
			background-color: #FFF0D0;
    		transform: rotate(60deg) skew(30deg);
		}
		.lottery-sector>li:nth-child(3){
			background-color: #FEFEFE;
    		transform: rotate(120deg) skew(30deg);
		}
		.lottery-sector>li:nth-child(4){
			background-color: #FFF0D0;
    		transform: rotate(180deg) skew(30deg);
		}
		.lottery-sector>li:nth-child(5){
			background-color: #FEFEFE;
    		transform: rotate(240deg) skew(30deg);
		}
		.lottery-sector>li:nth-child(6){
			background-color: #FFF0D0;
    		transform: rotate(300deg) skew(30deg);
		}
		.play{
			position: absolute;
			left: 50%;
			top: 50%;
			margin-left: -50px;
			margin-top: -50px;
			width: 100px;
			height: 100px;
			border-radius: 50%;
			z-index: 9;
			cursor: pointer;
			transition: transform 2s ease-in-out;
		}
		.play::after{
			content: '';
			box-sizing: border-box;
			width: 100%;
			height: 100%;
			background: #f2903b;
			border-radius: 50%;
			position: absolute;
			left: 50%;
			top: 50%;
			transform: translateX(-50%) translateY(-50%);

		}
		.play::before{
		    content: '';
		    position: absolute;
		    width: 0;
		    height: 0;
		    border-top: 0 solid transparent;
		    border-left: 15px solid transparent;
		    border-right: 15px solid transparent;
		    border-bottom: 25px solid #f2903b;
		    left: 35px;
		    top: -20px;
		}
		@keyframes play{
			0%{
				transform: rotate(0deg);
			}
			100%{
				transform: rotate(1500deg);
			}
		}
	</style>

</head>
<body>
	<div class="lottery">
		<ul class="illumination">
			<li></li><li></li><li></li><li></li><li></li><li></li>
			<li></li><li></li><li></li><li></li><li></li><li></li>
			<li></li><li></li><li></li><li></li><li></li><li></li>
			<li></li><li></li><li></li><li></li><li></li><li></li>
		</ul>
		<ul class="lottery-sector">
			<li class="sector-item" data-s="5"></li>
			<li class="sector-item" data-s="0"></li>
			<li class="sector-item" data-s="1"></li>
			<li class="sector-item" data-s="2"></li>
			<li class="sector-item" data-s="3"></li>
			<li class="sector-item" data-s="4"></li>
		</ul>
		<div class="play">
			
		</div>
	</div>
	<script type="text/javascript" src="../../js/lib/jquery-3.3.1.js"></script>
	<!-- <script type="text/javascript" src="../../js/lib/jQueryRotateCompressed.js"></script> -->

	<script type="text/javascript">
		var current = 0
		var prev = 0
		var deg = 0
		var rotate = 0
		$('.play').click(function() {
			var s = parseInt(Math.random() * 10 * 0.6)
			play(s)
		})
		function play(s) {
			rotate = (deg * 360) + (720 + s * 60)
			console.log(rotate)
			$('.play').css({
				transform: 'rotate('+ (rotate) +'deg)'
			})
		}
		// $('.play')add.transitionend(function() {
		// 	console.log('over')
		// })
		$('.play')[0].addEventListener('transitionend', function() {
			console.log('over')
			prev = current
			deg = parseInt(rotate / 360)
		})
		$('.sector-item').click(function() {
			var s = $(this).data('s')
			console.log(s)
			play(s)
		})
	</script>
</body>
</html>