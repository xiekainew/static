<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>Examples</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">
</head>
<body>
<canvas id="bg" width="200" height="200"></canvas>
    <script type="text/javascript">
    	
    	var bg = document.getElementById('bg');
var ctx = bg.getContext('2d');
var circ = Math.PI * 2;
var quart = Math.PI / 2;
var imd = null;
var circ = Math.PI * 2;
var quart = Math.PI / 2;

ctx.beginPath();
ctx.strokeStyle = '#99CC33';
ctx.lineCap = 'square';
ctx.closePath();
ctx.fill();
ctx.lineWidth = 10.0;

imd = ctx.getImageData(0, 0, 240, 240);
function draw(current){
	ctx.putImageData(imd, 0, 0);
	ctx.beginPath();
	ctx.arc(120, 120, 70, -(quart), ((circ) * current) - quart, false);
	ctx.stroke();
}
//draw(0.6);
var t=0;
var timer=null;
function loadCanvas(now){
	timer = setInterval(function(){
		if(t>now){
                        draw(now);//最后一次绘制
			clearInterval(timer);
		}else{
			draw(t);
			t-=0.01;
		}
	},20);
}
loadCanvas(1);
timer=null;
    </script>
</body>
</html>