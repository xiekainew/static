<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>åœ†</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">
<style type="text/css">
	canvas{
		width: 58px;
		height: 58px;
		background: #f2f2f2;
		margin: 40px auto;
	}
</style>
</head>
<body>
    
    <canvas id='canvas' width=58 height=58></canvas>
    <script type="text/javascript">
    	let canvas = document.getElementById('canvas')
    	let ctx = canvas.getContext('2d')
    	let time = 120
    	let helfPi = Math.PI / 2
    	// ctx.beginPath()
        
     //    ctx.strokeStyle = '#FDE6B7'
        
     //    ctx.lineCap = 'square'
     //    ctx.arc(29, 29, 29, 0, 2*Math.PI)
     //    ctx.strokeFill()
     //    ctx.closePath()
     //    
    
    countDown()    
    function countDown() {
    	var timer = setTimeout(() => {
    		clearTimeout(timer)
    		console.log(time)
    		time--
    		if (time > 0) {
    			countDown()
    		} else {
    			draw(1)
    		}
    	}, 250)
    	let rate = time / 120
    	draw(rate)
    }

	

	function draw(rate){
		console.log(rate)
		ctx.clearRect(0, 0, 58, 58)
		ctx.beginPath();
		ctx.lineCap="round";
		ctx.lineWidth = 4
		ctx.arc(29, 29, 27, -helfPi, 2*Math.PI * rate - helfPi, false)
		ctx.strokeStyle = '#FDE6B7'
		ctx.stroke();
	}

    </script>
</body>
</html>